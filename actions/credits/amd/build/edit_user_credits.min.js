/**
 * Edit user credits.
 *
 * @module     pulseaction_credits/edit_user_credits
 * @copyright  2024
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("pulseaction_credits/edit_user_credits",["jquery","core/notification","core_form/modalform","core/local/inplace_editable/events"],(function($,Notification,ModalForm,InplaceEditableEvents){var showUserOverrideModal=function(userid,courseid,title){const modalForm=new ModalForm({formClass:"pulseaction_credits\\form\\edit_user_credits",args:{userid:userid,courseid:courseid},modalConfig:{title:title,large:!0},returnFocus:null});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(function(e){const response=e.detail;response.result?(Notification.addNotification({message:response.message,type:"success"}),window.location.reload()):Notification.addNotification({message:response.message,type:"error"})})),modalForm.show()};return{init:function(title){document.addEventListener("click",(function(e){if(!e.target.closest('[data-action="edit-user-credits"]'))return!0;e.preventDefault();var button=e.target.closest('[data-action="edit-user-credits"]'),userid=button.dataset.userid,courseid=button.dataset.courseid;courseid?showUserOverrideModal(userid,courseid,title):Notification.addNotification({message:"Course ID not found",type:"error"})})),document.addEventListener(InplaceEditableEvents.eventTypes.elementUpdated,(e=>{"pulseaction_credits"==e.target.getAttribute("data-component")&&Notification.fetchNotifications()}))}}}));

//# sourceMappingURL=edit_user_credits.min.js.map